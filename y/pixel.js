"use strict";function setPreventDefaultAndStopPropagation(){Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0})}function forEach(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}function elementMapper(){function e(e){const t=document.createElement("img");return t.style.position="absolute",t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",t.width=0,t.height=0,t.border=0,t.src=e,t}function t(e){const t=document.createElement("script");return t.type="text/javascript",t.src=e,t.async=!0,t}function n(e){const t=document.createElement("iframe");return t.frameBorder=0,t.width=0,t.height=0,t.src=e,t}function o(e){const t=document.body.appendChild(document.createElement("iframe"));return t.frameBorder=0,t.width=0,t.height=0,window.setTimeout(function(){const n=t.contentWindow.document;n.open(),n.write(e),n.close()},1),t}return{map:function(r){switch(r){case"html":return o;case"image":return e;case"script":return t;case"iframe":return n}return null},image:e,script:t,iframe:n,html:o}}function piggybacksFromTrackingServer(e){const t=elementMapper(),n=[];if("success"===e.status){const o=document.getElementsByTagName("body")[0];forEach(e.data,function(e,r){forEach(r,function(r,i){const c=t.map(e);c&&i&&n.push(o.appendChild(c(i)))})})}return n}function firePixel(e){const t=[];forEach(e,function(e,n){void 0!==n&&t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))});const n=document.createElement("script");return n.async=!0,n.src="https://ads.creative-serving.com/pixel?"+t.join("&"),document.body.insertBefore(n,null),n}function fireAllPixels(e,t){function n(e,t){if(e.gdpr_consent){const{gdpr:n,gdpr_consent:o}=e;t.gdpr=n,t.gdpr_consent=o}}function o(e,t){t.id5id=e.id5id}function r(e,t){const{floc_id:n,floc_version:o}=e;t.flocid=n,t.flocversion=o}if(t.__queue161){for(let i=t.__queue161.length-1;i>=0;i--){let c=t.__queue161[i];n(e,c),o(e,c),r(e,c),(c=c).type="jsonp",c.cb="syncResponse",firePixel(c)}t.__queue161.length=0}var i}function trackQueue(e=window[window.__to]){const t=e.__gdpr,n=e.__floc,o={gdpr:t.gdpr,gdpr_consent:t.gdpr_consent,floc_id:n.id,floc_version:n.version},r=t=>{const n=t.getUserId();o.id5id=n,fireAllPixels(o,e)};e.__id5?ID5.init({partnerId:101,allowLocalStorageWithoutConsentApi:!o.gdpr}).onAvailable(r,1500):r({getUserId(){}})}async function pixelLoader({id5:e,cohort:t,gdpr:n}){const o=window.__to||"p161",r=window[o];r.__id5=e,r.__floc=t,r.__gdpr=n,r.trackQueue=trackQueue,setPreventDefaultAndStopPropagation(),window.syncResponse=piggybacksFromTrackingServer,r.trackQueue(r)}async function getCohortData(){if(document.interestCohort)try{return await document.interestCohort()}catch(e){return console.error(e),{}}return{}}function getGdprData(){return new Promise((e,t)=>{let n=0;const o={},r=setInterval(function(){if(window.__tcfapi){const e=2;window.__tcfapi("addEventListener",e,function(e,t){t?(o.gdpr=e.gdprApplies,o.gdpr_consent=e.tcString):console.error("consent data could not be read while using tcf API v.2")})}n+=1,(!!o.gdpr||3===n)&&(clearInterval(r),e(o))},500)})}function getID5Script(e){const t=document.createElement("script");return t.async=!0,t.src="https://static2.creative-serving.org/id5-api-2.js",t.addEventListener("load",()=>pixelLoader({...e,id5:!0})),t.addEventListener("error",()=>pixelLoader({...e,id5:!1})),t}!async function(){const e=getID5Script({cohort:await getCohortData(),gdpr:await getGdprData()});document.getElementsByTagName("head")[0].appendChild(e)}();